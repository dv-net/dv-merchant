# Environment variables

All envs have prefix `MERCHANT_`

| **Name**                                                   | **Required** | **Secret** | **Default value**                            | **Usage**                                 | **Example**                    |
|------------------------------------------------------------|--------------|------------|----------------------------------------------|-------------------------------------------|--------------------------------|
| `MERCHANT_ROLES_MODEL_PATH`                                | ✅            |            | `configs/rbac_model.conf`                    |                                           |                                |
| `MERCHANT_ROLES_POLICIES_PATH`                             | ✅            |            | `configs/rbac_policies.csv`                  |                                           |                                |
| `MERCHANT_APP_PROFILE`                                     |              |            | `prod`                                       |                                           |                                |
| `MERCHANT_HTTP_HOST`                                       |              |            | `localhost`                                  |                                           |                                |
| `MERCHANT_HTTP_PORT`                                       |              |            | `80`                                         |                                           |                                |
| `MERCHANT_HTTP_FETCH_INTERVAL`                             |              |            | `30s`                                        |                                           |                                |
| `MERCHANT_HTTP_CONNECT_TIMEOUT`                            |              |            | `5s`                                         |                                           |                                |
| `MERCHANT_HTTP_READ_TIMEOUT`                               |              |            | `10s`                                        |                                           |                                |
| `MERCHANT_HTTP_WRITE_TIMEOUT`                              |              |            | `10s`                                        |                                           |                                |
| `MERCHANT_HTTP_MAX_HEADER_MEGABYTES`                       |              |            | `1`                                          |                                           |                                |
| `MERCHANT_HTTP_CORS_ENABLED`                               |              |            | `true`                                       | allows to disable cors                    | `true / false`                 |
| `MERCHANT_HTTP_CORS_ALLOWED_ORIGINS`                       |              |            | `[]`                                         |                                           |                                |
| `MERCHANT_SEED_BASE`                                       |              |            | `seeds`                                      |                                           |                                |
| `MERCHANT_POSTGRES_ADDR`                                   | ✅            |            |                                              | storage address in format ip:port         |                                |
| `MERCHANT_POSTGRES_DB_NAME`                                | ✅            |            |                                              | storage user                              |                                |
| `MERCHANT_POSTGRES_USER`                                   | ✅            | ✅          |                                              | storage user password                     |                                |
| `MERCHANT_POSTGRES_PASSWORD`                               | ✅            | ✅          |                                              | storage db name                           |                                |
| `MERCHANT_POSTGRES_CONN_MAX_LIFETIME`                      |              |            | `180`                                        |                                           |                                |
| `MERCHANT_POSTGRES_MAX_OPEN_CONNS`                         |              |            | `100`                                        |                                           |                                |
| `MERCHANT_POSTGRES_MAX_IDLE_CONNS`                         |              |            | `100`                                        |                                           |                                |
| `MERCHANT_POSTGRES_MIN_OPEN_CONNS`                         |              |            | `6`                                          |                                           |                                |
| `MERCHANT_REDIS_ADDR`                                      | ✅            |            |                                              | storage address in format ip:port         |                                |
| `MERCHANT_REDIS_USER`                                      |              | ✅          |                                              | storage user password                     |                                |
| `MERCHANT_REDIS_PASSWORD`                                  |              | ✅          |                                              | storage db name                           |                                |
| `MERCHANT_REDIS_DB_INDEX`                                  |              |            | `0`                                          | index of database                         |                                |
| `MERCHANT_EXRATE_FETCH_INTERVAL`                           |              |            | `1m0s`                                       |                                           |                                |
| `MERCHANT_ADMIN_BASE_URL`                                  |              |            | `https://api.dv.net/`                        |                                           |                                |
| `MERCHANT_ADMIN_PING_VERSION_INTERVAL`                     |              |            | `1h0m0s`                                     |                                           |                                |
| `MERCHANT_NOTIFY_TELEGRAM_ENABLED`                         |              |            | `false`                                      |                                           |                                |
| `MERCHANT_NOTIFY_TELEGRAM_TOKEN`                           |              | ✅          |                                              |                                           |                                |
| `MERCHANT_WEB_HOOK_MAX_TRIES`                              |              |            | `30`                                         |                                           |                                |
| `MERCHANT_E_PROXY_GRPC_NAME`                               | ✅            |            | `connectrpc-client`                          |                                           | `backend-connectrpc-client`    |
| `MERCHANT_E_PROXY_GRPC_ADDR`                               | ✅            |            | `https://explorer-proxy.dv.net`              | connectrpc server address                 | `localhost:9000`               |
| `MERCHANT_TRANSFERS_GROUP_SIZE`                            |              |            | `5`                                          |                                           |                                |
| `MERCHANT_OPS_ENABLED`                                     |              |            | `false`                                      | allows to enable ops server               | `false`                        |
| `MERCHANT_OPS_NETWORK`                                     | ✅            |            | `tcp`                                        | allows to set ops listen network: tcp/udp | `tcp`                          |
| `MERCHANT_OPS_TRACING_ENABLED`                             |              |            | `false`                                      | allows to enable tracing                  | `false`                        |
| `MERCHANT_OPS_METRICS_ENABLED`                             |              |            | `false`                                      | allows to enable metrics                  | `true`                         |
| `MERCHANT_OPS_METRICS_PATH`                                | ✅            |            | `/metrics`                                   | allows to set custom metrics path         | `/metrics`                     |
| `MERCHANT_OPS_METRICS_PORT`                                | ✅            |            | `10000`                                      | allows to set custom metrics port         | `10000`                        |
| `MERCHANT_OPS_METRICS_BASIC_AUTH_ENABLED`                  |              |            | `false`                                      | allows to enable basic auth               |                                |
| `MERCHANT_OPS_METRICS_BASIC_AUTH_USERNAME`                 |              |            |                                              | auth username                             |                                |
| `MERCHANT_OPS_METRICS_BASIC_AUTH_PASSWORD`                 |              |            |                                              | auth password                             |                                |
| `MERCHANT_OPS_HEALTHY_ENABLED`                             |              |            | `false`                                      | allows to enable health checker           | `true`                         |
| `MERCHANT_OPS_HEALTHY_PATH`                                | ✅            |            | `/healthy`                                   | allows to set custom healthy path         | `/healthy`                     |
| `MERCHANT_OPS_HEALTHY_PORT`                                | ✅            |            | `10000`                                      | allows to set custom healthy port         | `10000`                        |
| `MERCHANT_OPS_PROFILER_ENABLED`                            |              |            | `false`                                      | allows to enable profiler                 | `false`                        |
| `MERCHANT_OPS_PROFILER_PATH`                               | ✅            |            | `/debug/pprof`                               | allows to set custom profiler path        | `/debug/pprof`                 |
| `MERCHANT_OPS_PROFILER_PORT`                               | ✅            |            | `10000`                                      | allows to set custom profiler port        | `10000`                        |
| `MERCHANT_OPS_PROFILER_WRITE_TIMEOUT`                      |              |            | `60`                                         | HTTP server write timeout in seconds      | `60`                           |
| `MERCHANT_KEY_VALUE_ENGINE`                                | ✅            |            | `redis`                                      |                                           | `redis / in_memory`            |
| `MERCHANT_TRANSACTIONS_UNCONFIRMED_COLLAPSE_INTERVAL`      |              |            | `3m0s`                                       |                                           |                                |
| `MERCHANT_WALLETS_UPDATE_BALANCES_INTERVAL`                |              |            | `2s`                                         |                                           |                                |
| `MERCHANT_WALLETS_UPDATE_TRON_RESOURCES_INTERVAL`          |              |            | `1h0m0s`                                     |                                           |                                |
| `MERCHANT_EXTERNAL_STORE_LIMITS_ENABLED`                   |              |            | `false`                                      |                                           |                                |
| `MERCHANT_EXTERNAL_STORE_LIMITS_RATE_LIMIT_INTERVAL`       |              |            | `24h0m0s`                                    |                                           |                                |
| `MERCHANT_EXTERNAL_STORE_LIMITS_MAX_REQUESTS_PER_INTERVAL` |              |            | `3`                                          |                                           |                                |
| `MERCHANT_LOG_FORMAT`                                      |              |            | `json`                                       | allows to set custom formatting           | `json`                         |
| `MERCHANT_LOG_LEVEL`                                       |              |            | `info`                                       | allows to set custom logger level         | `info`                         |
| `MERCHANT_LOG_CONSOLE_COLORED`                             |              |            | `false`                                      | allows to set colored console output      | `false`                        |
| `MERCHANT_LOG_TRACE`                                       |              |            | `fatal`                                      | allows to set custom trace level          | `fatal`                        |
| `MERCHANT_LOG_WITH_CALLER`                                 |              |            | `false`                                      | allows to show caller                     | `false`                        |
| `MERCHANT_LOG_WITH_STACK_TRACE`                            |              |            | `false`                                      | allows to show stack trace                | `false`                        |
| `MERCHANT_BLOCKCHAIN_BITCOIN_ADDRESS_TYPE`                 |              |            | `P2WPKH`                                     | change default generate address           | `P2PKH / P2SH / P2WPKH / P2TR` |
| `MERCHANT_BLOCKCHAIN_LITECOIN_ADDRESS_TYPE`                |              |            | `P2WPKH`                                     | change default generate address           | `P2PKH / P2SH / P2WPKH / P2TR` |
| `MERCHANT_BLOCKCHAIN_DOGECOIN_ADDRESS_TYPE`                |              |            | `P2PKH`                                      | change default generate address           | `P2PKH`                        |
| `MERCHANT_UPDATER_BASE_URL`                                |              |            | `http://localhost:8081`                      | allows to set updater service endpoint    | `http://localhost:8081`        |
| `MERCHANT_TURNSTILE_ENABLED`                               |              |            | `false`                                      |                                           |                                |
| `MERCHANT_TURNSTILE_SECRET`                                |              |            |                                              |                                           |                                |
| `MERCHANT_TURNSTILE_SITE_KEY`                              |              |            |                                              |                                           |                                |
| `MERCHANT_TURNSTILE_BASE_URL`                              |              |            | `https://challenges.cloudflare.com`          |                                           |                                |
| `MERCHANT_AML_CHECK_INTERVAL`                              |              |            | `2m0s`                                       |                                           |                                |
| `MERCHANT_AML_CHECK_TIMEOUT`                               |              |            | `30s`                                        |                                           |                                |
| `MERCHANT_AML_MAX_ATTEMPTS`                                |              |            | `5`                                          |                                           |                                |
| `MERCHANT_AML_BIT_OK_ENABLED`                              |              |            | `true`                                       |                                           |                                |
| `MERCHANT_AML_BIT_OK_BASE_URL`                             |              |            | `https://kyt-api.bitok.org/`                 |                                           |                                |
| `MERCHANT_AML_AML_BOT_ENABLED`                             |              |            | `true`                                       |                                           |                                |
| `MERCHANT_AML_AML_BOT_BASE_URL`                            |              |            | `https://extrnlapiendpoint.silencatech.com/` |                                           |                                |