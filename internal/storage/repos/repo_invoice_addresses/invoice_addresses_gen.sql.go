// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: invoice_addresses_gen.sql

package repo_invoice_addresses

import (
	"context"

	"github.com/dv-net/dv-merchant/internal/models"
	"github.com/google/uuid"
	"github.com/shopspring/decimal"
)

const create = `-- name: Create :one
INSERT INTO invoice_addresses (invoice_id, wallet_address_id, rate_at_creation, created_at)
	VALUES ($1, $2, $3, now())
	RETURNING id, invoice_id, wallet_address_id, rate_at_creation, created_at, updated_at
`

type CreateParams struct {
	InvoiceID       uuid.UUID           `db:"invoice_id" json:"invoice_id"`
	WalletAddressID uuid.UUID           `db:"wallet_address_id" json:"wallet_address_id"`
	RateAtCreation  decimal.NullDecimal `db:"rate_at_creation" json:"rate_at_creation"`
}

func (q *Queries) Create(ctx context.Context, arg CreateParams) (*models.InvoiceAddress, error) {
	row := q.db.QueryRow(ctx, create, arg.InvoiceID, arg.WalletAddressID, arg.RateAtCreation)
	var i models.InvoiceAddress
	err := row.Scan(
		&i.ID,
		&i.InvoiceID,
		&i.WalletAddressID,
		&i.RateAtCreation,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return &i, err
}
